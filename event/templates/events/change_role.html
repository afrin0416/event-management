{% extends 'events/base.html' %}

{% block title %}Change User Role{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto mt-10 bg-white p-6 rounded shadow">
    <h2 class="text-2xl font-bold mb-4">Change User Role</h2>

    {% if messages %}
    <div>
        {% for message in messages %}
        <p class="mb-2 text-sm {{ message.tags }}">{{ message }}</p>
        {% endfor %}
    </div>
    {% endif %}

    <form method="POST">
        {% csrf_token %}
        <div class="mb-4">
            <label for="user" class="block font-medium mb-1">Select User:</label>
            <select name="user" id="user" class="w-full border px-3 py-2 rounded">
                {% for user in users %}
                <option value="{{ user.id }}" {% if selected_user and selected_user.id==user.id %}selected{% endif %}>
                    {{ user.username }} ({{ user.email }})
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-4">
            <label for="role" class="block font-medium mb-1">Select Role:</label>
            <select name="role" id="role" class="w-full border px-3 py-2 rounded">
                <option value="Admin" {% if selected_role=='Admin' %}selected{% endif %}>Admin</option>
                <option value="Organizer" {% if selected_role=='Organizer' %}selected{% endif %}>Organizer</option>
                <option value="Participant" {% if selected_role=='Participant' %}selected{% endif %}>Participant
                </option>
            </select>
        </div>

        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
            Update Role
        </button>
    </form>
</div>
{% endblock %}